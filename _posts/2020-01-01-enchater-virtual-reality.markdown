---
layout: post
title:  "多人虛擬實境對戰遊戲"
layout:     post
description: "EnchaterVR"
date:       2020-01-01 09:00:00
author:     "Yuan-Syun Ye 葉元勲"
header-img: assets/images/enchatervr-partical playing.png
---

隨著時間的發展，虛擬實境漸漸地推出多樣的遊戲，這項作品想提出一個多人的虛擬實境對戰遊戲，Enchater VR。玩家為扮演一個魔法師，透過手持控制器劃出對應符咒，並向敵人施展出法術，其中敵人為其他連線的遊戲玩家。玩家需要在指定時間內攻擊敵人，不同的法術打到敵人會有不同分數，最後會依照分數的高低進行排序。
![Enchater VR](/assets/images/enchatervr-partical playing.png)

# 虛擬實境多人連線功能 #

此作品採用Unity 3D並且搭配Photon提供多人線上連線的功能，一場遊戲可支援四人連線，可同時執行多場遊戲。開始遊戲之前可以提供遊戲等待房間，提供玩家設定法術，並自動同步玩家資訊，如血量、分數、技能、以及腳色動作等。

# 辨識手持控制器手勢 #

虛擬實境可以讓使用者用第一人稱的視角進行體驗，此作品設計玩家的手持控制器為施展法術的方式。當使用者按下特定按鍵後，系統就會開始針對手持控制器的移動軌跡進行辨識。其中共有五種不同符號，辨識方法為將三維的移動軌跡依照使用者的頭部的面向壓縮成二維的資料，並且透過深度學習的方式事先訓練五種不同符號的模型，最後再透過即時的判斷，根據使用者劃出的符號施展出對應的魔法。

# 自由搭配施展法術 #

此作品根據不同的特性，設計了九種不同法術，提升體驗的耐玩性以及豐富度。玩家可以在等待房間時設定不同咒語對應的法術，像是冰柱、雷電球、龍捲風、隱身等。其中當冰柱打到敵人時，會讓敵人暫時無法移動、雷電球則是具有快速攻擊的效果、龍捲風則是能提供大範圍的攻擊效果、隱身則是可以讓自己暫時隱形。
反向動力學，同步玩家動作

# 設計多人連線的虛擬實境體驗 #

為了讓對戰體驗更具有挑戰性，此作品設計可以讓玩家觀察到其他角色的動作，藉此了解對方想要施展的法術。此作品使用反向運動學(Inverse Kinematics)套件，根據使用者目前頭部位置以及雙手控制器位置推測實際玩家的身體動作，並套用在虛擬腳色的動作上，同時透過Photon多人線上連線服務將角色姿勢同步到所有玩家。
<iframe width="560" height="315" src="https://www.youtube.com/embed/4KKB_zmULBI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
